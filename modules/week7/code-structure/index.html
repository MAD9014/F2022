<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>7.2 Code Structure | MAD9014</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Cross-Platform Application Development">
    
    <link rel="preload" href="/F2022/assets/css/0.styles.50f415bc.css" as="style"><link rel="preload" href="/F2022/assets/js/app.42156b92.js" as="script"><link rel="preload" href="/F2022/assets/js/2.309c8f6c.js" as="script"><link rel="preload" href="/F2022/assets/js/42.2e322fc2.js" as="script"><link rel="preload" href="/F2022/assets/js/4.8f0492b2.js" as="script"><link rel="preload" href="/F2022/assets/js/6.42129677.js" as="script"><link rel="prefetch" href="/F2022/assets/js/10.6ed74506.js"><link rel="prefetch" href="/F2022/assets/js/11.e4e57652.js"><link rel="prefetch" href="/F2022/assets/js/12.4fd9334c.js"><link rel="prefetch" href="/F2022/assets/js/13.d60171d2.js"><link rel="prefetch" href="/F2022/assets/js/14.ef5f94d3.js"><link rel="prefetch" href="/F2022/assets/js/15.89cba5d1.js"><link rel="prefetch" href="/F2022/assets/js/16.07b0adef.js"><link rel="prefetch" href="/F2022/assets/js/17.274ce64a.js"><link rel="prefetch" href="/F2022/assets/js/18.83156930.js"><link rel="prefetch" href="/F2022/assets/js/19.dd8c0299.js"><link rel="prefetch" href="/F2022/assets/js/20.905940c5.js"><link rel="prefetch" href="/F2022/assets/js/21.0ecc185a.js"><link rel="prefetch" href="/F2022/assets/js/22.8c4f615d.js"><link rel="prefetch" href="/F2022/assets/js/23.cbd124fb.js"><link rel="prefetch" href="/F2022/assets/js/24.f984b5df.js"><link rel="prefetch" href="/F2022/assets/js/25.cae0bd53.js"><link rel="prefetch" href="/F2022/assets/js/26.171c675d.js"><link rel="prefetch" href="/F2022/assets/js/27.b6b19a01.js"><link rel="prefetch" href="/F2022/assets/js/28.762bb28a.js"><link rel="prefetch" href="/F2022/assets/js/29.ba3d8131.js"><link rel="prefetch" href="/F2022/assets/js/3.0ff4921b.js"><link rel="prefetch" href="/F2022/assets/js/30.9f8ef05e.js"><link rel="prefetch" href="/F2022/assets/js/31.b43b0ef2.js"><link rel="prefetch" href="/F2022/assets/js/32.c63a796c.js"><link rel="prefetch" href="/F2022/assets/js/33.b7b22e5a.js"><link rel="prefetch" href="/F2022/assets/js/34.410d0f9e.js"><link rel="prefetch" href="/F2022/assets/js/35.b935e2dc.js"><link rel="prefetch" href="/F2022/assets/js/36.27336e61.js"><link rel="prefetch" href="/F2022/assets/js/37.62aa130b.js"><link rel="prefetch" href="/F2022/assets/js/38.3da4e238.js"><link rel="prefetch" href="/F2022/assets/js/39.ffcb03f3.js"><link rel="prefetch" href="/F2022/assets/js/40.b0afee99.js"><link rel="prefetch" href="/F2022/assets/js/41.eeb38dd7.js"><link rel="prefetch" href="/F2022/assets/js/43.3d75d1e0.js"><link rel="prefetch" href="/F2022/assets/js/44.d343e4db.js"><link rel="prefetch" href="/F2022/assets/js/45.35ad5dce.js"><link rel="prefetch" href="/F2022/assets/js/46.17dcf00b.js"><link rel="prefetch" href="/F2022/assets/js/5.71716d92.js"><link rel="prefetch" href="/F2022/assets/js/7.ea52c00d.js"><link rel="prefetch" href="/F2022/assets/js/8.78988ea0.js"><link rel="prefetch" href="/F2022/assets/js/9.2c22e4b4.js">
    <link rel="stylesheet" href="/F2022/assets/css/0.styles.50f415bc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/F2022/" class="home-link router-link-active"><img src="/F2022/mad-d-logo-sm.png" alt="MAD9014" class="logo"> <span class="site-name can-hide">MAD9014</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/F2022/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/F2022/assignments/" class="nav-link">
  Deliverables
</a></div><div class="nav-item"><a href="/F2022/conventions/" class="nav-link">
  Conventions
</a></div><div class="nav-item"><a href="/F2022/resources/" class="nav-link">
  Resources
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/F2022/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/F2022/assignments/" class="nav-link">
  Deliverables
</a></div><div class="nav-item"><a href="/F2022/conventions/" class="nav-link">
  Conventions
</a></div><div class="nav-item"><a href="/F2022/resources/" class="nav-link">
  Resources
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Content Modules</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/F2022/modules/week1/intro/" class="sidebar-link">1.1: Introduction</a></li><li><a href="/F2022/modules/week2/functions/" class="sidebar-link">2.1: Functions and Scope</a></li><li><a href="/F2022/modules/week2/flow-strings/" class="sidebar-link">2.2: Truthiness, Control Flow and Strings</a></li><li><a href="/F2022/modules/week3/math-numbers/" class="sidebar-link">3.1: Math and Numbers</a></li><li><a href="/F2022/modules/week3/dates-loops/" class="sidebar-link">3.2: Dates and Loops</a></li><li><a href="/F2022/modules/week4/arrays/" class="sidebar-link">4.1: Arrays</a></li><li><a href="/F2022/modules/week4/objects/" class="sidebar-link">4.2: Objects</a></li><li><a href="/F2022/modules/week5/dom-1/" class="sidebar-link">5.1: Document Object Model</a></li><li><a href="/F2022/modules/week5/dom-2/" class="sidebar-link">5.2: Document Object Model</a></li><li><a href="/F2022/modules/week6/events/" class="sidebar-link">6.1: Handling Events</a></li><li><a href="/F2022/modules/week7/project-structure/" class="sidebar-link">7.1: Project Structure</a></li><li><a href="/F2022/modules/week7/code-structure/" aria-current="page" class="active sidebar-link">7.2: Code Structure</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/F2022/modules/week7/code-structure/#code-structure" class="sidebar-link">Code Structure</a></li><li class="sidebar-sub-header"><a href="/F2022/modules/week7/code-structure/#callback-functions" class="sidebar-link">Callback Functions</a></li><li class="sidebar-sub-header"><a href="/F2022/modules/week7/code-structure/#higher-order-functions" class="sidebar-link">Higher Order Functions</a></li><li class="sidebar-sub-header"><a href="/F2022/modules/week7/code-structure/#recursive-functions" class="sidebar-link">Recursive Functions</a></li><li class="sidebar-sub-header"><a href="/F2022/modules/week7/code-structure/#closures" class="sidebar-link">Closures</a></li><li class="sidebar-sub-header"><a href="/F2022/modules/week7/code-structure/#currying" class="sidebar-link">Currying</a></li><li class="sidebar-sub-header"><a href="/F2022/modules/week7/code-structure/#this-and-context" class="sidebar-link">This and Context</a></li><li class="sidebar-sub-header"><a href="/F2022/modules/week7/code-structure/#this-beyond-events" class="sidebar-link">This - Beyond Events</a></li><li class="sidebar-sub-header"><a href="/F2022/modules/week7/code-structure/#call-apply-bind" class="sidebar-link">Call, Apply, Bind</a></li><li class="sidebar-sub-header"><a href="/F2022/modules/week7/code-structure/#prototypes" class="sidebar-link">Prototypes</a></li><li class="sidebar-sub-header"><a href="/F2022/modules/week7/code-structure/#what-to-do-this-week" class="sidebar-link">What to do this week</a></li></ul></li><li><a href="/F2022/modules/reading/" class="sidebar-link">8: Reading Week</a></li><li><a href="/F2022/modules/week9/promises/" class="sidebar-link">9.1: Promises</a></li><li><a href="/F2022/modules/week9/async/" class="sidebar-link">9.2: Asynchronous Programming</a></li><li><a href="/F2022/modules/week10/ajax/" class="sidebar-link">10.1: AJAX and Fetch</a></li><li><a href="/F2022/modules/week10/fetch-apis/" class="sidebar-link">10.2: Fetch and APIs</a></li><li><a href="/F2022/modules/week11/fetch-data/" class="sidebar-link">11.1: Dynamic Data</a></li><li><a href="/F2022/modules/week11/security/" class="sidebar-link">11.2: Fetch Security</a></li><li><a href="/F2022/modules/week12/observers/" class="sidebar-link">12.1: Observers &amp; Classes</a></li><li><a href="/F2022/modules/week12/destructure/" class="sidebar-link">12.2: Destructuring, Spead, &amp; Enumeration</a></li><li><a href="/F2022/modules/week13/storage/" class="sidebar-link">13.1: HTML5 APIs</a></li><li><a href="/F2022/modules/week13/multi-page/" class="sidebar-link">13.2: Multi-Page, SPA, and JAMStack </a></li><li><a href="/F2022/modules/week14/project-1/" class="sidebar-link">14.1: Forms &amp; Page Transitions</a></li><li><a href="/F2022/modules/week14/project-2/" class="sidebar-link">14.2: Final Project</a></li><li><a href="/F2022/modules/week15/" class="sidebar-link">15.1: Final Project</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><header><div class="section-title gold">
    JavaScript in the Browser
  </div> <h1>7.2 Code Structure</h1></header> <h2 id="code-structure"><a href="#code-structure" class="header-anchor">#</a> Code Structure</h2> <p>In addition to organizing your code across your project, it is also important that you understand some of the
terminology and practices that describe how you can structure your code within you <code>modules</code> and <code>namespaces</code>.</p> <h2 id="callback-functions"><a href="#callback-functions" class="header-anchor">#</a> Callback Functions</h2> <p>A callback function is just a regular function, like any function that you have written so far. What makes a function
into a <code>callback</code> function is simply how you use it.</p> <p>When you pass a function reference to a second function so that it can be called, from inside the second function, after
the rest of the second function code is complete, then the function reference being passed in is called a <code>callback</code>
function.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">myCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//this function will be called by another function as a callback</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'This is the callback'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">countToTen</span><span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//cb is a variable that will hold the callback function reference</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//make the callback function run now</span>
<span class="token punctuation">}</span>

<span class="token function">countToTen</span><span class="token punctuation">(</span>myCallback<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//call the countToTen function</span>
<span class="token comment">//pass in the reference to the myCallback function</span>
<span class="token comment">//note there are no parentheses after `myCallback`</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>This video explains what callback functions are:</p> <div title="callback functions" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/uPCxgnLOuiQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div> <p>This video is a sample interview question, which will let you check if you understand what a callback is and how it
works. It also provides the solution.</p> <div title="Callback function test" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/W8PkkO1woDA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div> <h2 id="higher-order-functions"><a href="#higher-order-functions" class="header-anchor">#</a> Higher Order Functions</h2> <p>Functions in JavaScript are called first-class objects because they can be passed around just like any other variable.
We can pass a function reference to another function, like we do for callback functions. We can also return a function
from a function.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'this is function f1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'this is an anonymous function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//this function will be returned from f1</span>
    <span class="token keyword">return</span> <span class="token number">42</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> f2 <span class="token operator">=</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//call the function f1 and put it's return value into f2.</span>
<span class="token comment">//f2 is now a reference to the anonymous function returned by f1</span>

<span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// runs the anonymous function returned by f1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// outputs 42, which is the return value of the anonymous function in f2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="recursive-functions"><a href="#recursive-functions" class="header-anchor">#</a> Recursive Functions</h2> <p>When a function calls itself, this is known as an recursive function.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">it</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//iteratively call the function `it`</span>
<span class="token punctuation">}</span>

<span class="token function">it</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//start the infinite iterative looping</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>While, technically this is an iterative function call, it does have one huge problem - <strong>it never stops calling
itself</strong>.</p> <p>When you iteratively call a function you need to have a stop condition.</p> <p>Let's do the same thing but say that we only want to call the function 10 times.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">it</span><span class="token punctuation">(</span><span class="token parameter">count <span class="token operator">=</span> <span class="token number">0</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//if the function is called without a `count` argument then `count` will be set to zero.</span>
  count<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token comment">//increment the value of `count`</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">it</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//iteratively call the function `it` with the current value of `count`</span>
    <span class="token comment">//but only if count is less than or equal to ten</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">it</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//call `it` with an initial value of 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="closures"><a href="#closures" class="header-anchor">#</a> Closures</h2> <p>Closures are not something that you learn how to write in JavaScript, they are a feature of the language. Closures are
something that you need to be aware of and understand how they impact the scope of variables.</p> <p>When you call a function, an <code>execution context</code> gets created with its own scope. Inside this context you can declare
variables or create other functions. When creating the other functions they will understand what their execution context
is (where they were created). If you declared variables in the same execution context as where the function is being
created, then the function will be aware of those variables too.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">'Jon'</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> f2 <span class="token operator">=</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//call `f1`, which will create the variable `name` and the anonymous function</span>
<span class="token comment">//the anonymous function is put into `f2`.</span>
<span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//call `f2`.</span>
<span class="token comment">//`f2` needs a variable called `name`.</span>
<span class="token comment">//There is no variable called `name` declared or assigned a value inside of `f2`</span>
<span class="token comment">//JavaScript will look inside the execution context where the anonymous function was created</span>
<span class="token comment">//inside that execution context there WAS a variable called `name`. So, it gets used</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>So, when function <code>A</code> runs and it returns function <code>B</code>, the fact that <code>B</code> has access to anything that was declared
inside the execution context of <code>A</code> is called a <code>closure</code>. We are creating a bubble around all the potential variables
inside that execution context to prevent them being deleted by the garbage collection process.</p> <p>Normally, when you run a function and that function finishes running, all the locally declared variables are no longer
needed. JavaScript is allowed to delete them and free up the memory.</p> <p>A <code>closure</code> will prevent the garbage collection as long as the returned function exists / is referenced.</p> <h2 id="currying"><a href="#currying" class="header-anchor">#</a> Currying</h2> <p>When you intentionally write a function which returns a second function, and the second function references variables
that are inside its own scope plus variables that came from its execution context, this is known as <code>currying</code>.</p> <p><code>Currying</code> is a great way to dynamically create a series of functions that are slight variations of the same
functionality, without having to actually write all the function variations.</p> <p>Let's say that we want to create a series of message functions. We have messages that are informative, ones that
indicate success, and ones that indicate failure. Each of those three will have a different css style, need to include
the name of the current user, and will not know the message text until later on when the user is interacting with the
web app.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">message</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">username<span class="token punctuation">,</span> type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> h2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'h2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  h2<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Attention: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>username<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  p<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">message </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>type<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  div<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>h2<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//we have created a message box that can be used later by the returned function below</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    p<span class="token punctuation">.</span>textContent <span class="token operator">=</span> msg<span class="token punctuation">;</span> <span class="token comment">//add the message to the div &gt; p</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//add the div to the body</span>
    <span class="token comment">//this part of the function runs later on.</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>So, <code>message</code> is a function that we can use to create a message box. The user's name will be contained in the heading
for the message box. The actual message gets added later when the message box will be added to the webpage.</p> <p>With the code from above we can now do the <code>currying</code> and create the function variations.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token string">'Sam'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> info <span class="token operator">=</span> <span class="token function">message</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token string">'infoMsg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> success <span class="token operator">=</span> <span class="token function">message</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token string">'successMsg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> fail <span class="token operator">=</span> <span class="token function">message</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token string">'errorMsg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>We now have three functions <code>info</code>, <code>success</code>, and <code>fail</code>, which can all be called at any point later when we need one
of them.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">'Congrats! It worked'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'You are currently logged in'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">fail</span><span class="token punctuation">(</span><span class="token string">'Your credit card was declined'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>All three will use the div that we created originally that contains the CSS classname and the username to display a
message to the user. The message to the user was only created when one of those three functions was actually called.</p> <h2 id="this-and-context"><a href="#this-and-context" class="header-anchor">#</a> This and Context</h2> <p>The keyword <code>this</code> can be a confusing one in JavaScript. It is typically a reference to the object that made a function
run.</p> <p>For the purposes of this discussion we will limit the use of this to functions triggered by event listeners.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> btn1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'myButton'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> btn2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.btn'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> btn3 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#otherButton'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

btn1<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> makeNoisy<span class="token punctuation">)</span><span class="token punctuation">;</span>
btn2<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> makeNoisy<span class="token punctuation">)</span><span class="token punctuation">;</span>
btn3<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> makeNoisy<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">makeNoisy</span><span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  ev<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundImage <span class="token operator">=</span> <span class="token string">'url(./img/noisy-pattern.png)'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>In this example we have three different buttons being referenced in the variables <code>btn1</code>, <code>btn2</code>, and <code>btn3</code>.</p> <p>All three buttons have a click listener.</p> <p>All three click listeners will call the function <code>makeNoisy( )</code>.</p> <p>Inside the function makeNoisy, we are able to tell which button needs to have the background image added because
<code>ev.currentTarget</code> gives us that information. The target property points to the button that was clicked.</p> <p>The keyword <code>this</code> works in the same way.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">makeNoisy</span><span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundImage <span class="token operator">=</span> <span class="token string">'url(.img/noisy-pattern.png)'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>We can replace <code>ev.currentTarget</code> with <code>this</code>.</p> <p>This points to the object written in front of <code>addEventListener( )</code>.</p> <p>To learn a lot more about the keyword this watch the following video:</p> <div title="basic this" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/syhNj7X0Vvk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div> <h2 id="this-beyond-events"><a href="#this-beyond-events" class="header-anchor">#</a> This - Beyond Events</h2> <p>This excerpt from the <code>You Don't Know JS</code> book by Kyle Simpson gives a good description of the 4 rules for determining
the value of <code>this</code>. Here is the link to the page in
<a href="https://github.com/getify/You-Dont-Know-JS/blob/2nd-ed/this-object-prototypes/ch2.md#determining-this" target="_blank" rel="noopener noreferrer">You Don't Know JS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <hr> <p>We can summarize the rules for determining this from a function call's call-site,in their order of precedence. Ask these
questions in this order, and stop when the first rule applies.</p> <ol><li>Is the function called with new (new binding)? If so, <code>this</code> is the newly constructed object.</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> bar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>Is the function called with call or apply (explicit binding), even hidden inside a bind hard binding? If so, <code>this</code>
is the explicitly specified object.</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> bar <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="3"><li>Is the function called with a context (implicit binding), otherwise known as an owning or containing object? If so,
<code>this</code> is that context object.</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> bar <span class="token operator">=</span> obj1<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="4"><li>Otherwise, default the <code>this</code> (default binding). If in strict mode, pick undefined, otherwise pick the global object.</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> bar <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>That's it. That's all it takes to understand the rules of this binding for normal function calls. Well... almost.</p> <hr> <p>There are a few exceptions. Arrow functions are one of those exceptions.</p> <p>Arrow functions use <code>lexical scoping</code> for determining the value of <code>this</code>. Instead of using the four standard this
rules, arrow-functions adopt the <code>this</code> binding from the enclosing (function or global) scope. Simply put, an Arrow
function will use whatever value you would get for <code>this</code> if you wrote it on the line above where the function is
declared.</p> <h2 id="call-apply-bind"><a href="#call-apply-bind" class="header-anchor">#</a> Call, Apply, Bind</h2> <p>Calling a function can be accomplished by writing the name of the function followed by one of these three methods.</p> <p>The difference between them is that <code>bind</code> creates a copy of the function with the new context for you tto use later.
<code>call</code> and <code>apply</code> will both call the function immediately with the new context.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> answer1 <span class="token operator">=</span> <span class="token function">f1</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// returns 15 (parameters passed separately)</span>
<span class="token comment">// will console.log the Window Object</span>
<span class="token keyword">let</span> answer2 <span class="token operator">=</span> <span class="token function">f1</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>document<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// returns 15 (parameters passed in an array)</span>
<span class="token comment">// will console.log the document Object</span>
<span class="token keyword">let</span> answer3 <span class="token operator">=</span> <span class="token function">f1</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//answer3 is now a copy of the function f1</span>
<span class="token comment">// when we run answer3, document.body will be the value for `this`</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div title="call apply bind" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/uBdH0iB1VDM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div> <h2 id="prototypes"><a href="#prototypes" class="header-anchor">#</a> Prototypes</h2> <p>Every type of Object has a <code>prototype</code>. A <code>prototype</code> is a special kind of an object that contains all the methods that
will be shared by all Objects of that type.</p> <p>You will hear a lot about <code>prototype</code> and <code>class</code> over the next few semesters. They are two different approaches to
designing and architect software. The problem is that in your early days of programming they can seem like almost the
same thing.</p> <p>We will try to help you understand the differences here in simple practical terms that will let you write better
JavaScript with fewer unexpected errors.</p> <p>A <code>Class</code> is a blueprint for building objects. It is not an object itself, just the plans for building a certain kind of
object. Classes inherit properties and methods from parent classes. When you create (<code>instantiate</code>) an object from a
class, the object will be given copies all the properties and methods from it's class blueprint as well as copies of all
the properties and methods from all the ancestor parent classes. So, when you call an Object's method, the method
actually exists inside the Object.</p> <p>A <code>prototype</code> is an example Object. It is an Object. Think of it as the first one built. In JavaScript, when we create
an Object a constructor function is used to build the object. That function has a <code>prototype</code> object. We can put any
methods that we want to share with all the objects built with that constructor into that prototype object. We can still
link our objects to parent ones but we don't copy the methods, instead, we just link to the parent's prototype. There is
a chain of prototype type objects. When we create (<code>instantiate</code>) our Object, it doesn't need copies of all the methods
and parent methods. If we call an Object's method and the method does not exist inside our Object, then JavaScript will
look up the prototype chain for the method and delegate (borrow) the method to run.</p> <p>JavaScript has something called the <code>prototype chain</code>, which is how <code>inheritance</code> works in JavaScript. Each one of the
Object prototypes will have a connection to the prototype object belonging to it's parent object. At the top of the
chain is the <code>prototype</code> of the <code>Object</code> object.</p> <p>As an example, look at the <code>toString()</code> method. When you create an
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noopener noreferrer">Array<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, there is no method in
Array called <code>valueof</code>. However, you can write the following and no error occurs.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> letters <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">,</span> <span class="token string">'i'</span><span class="token punctuation">,</span> <span class="token string">'o'</span><span class="token punctuation">,</span> <span class="token string">'u'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
letters<span class="token punctuation">.</span><span class="token function">valueof</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/valueOf" target="_blank" rel="noopener noreferrer">valueof reference<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>This works because of the <code>prototype chain</code>.</p> <p>We are calling the method <code>Array()</code>. The <code>Array</code> function has a prototype object. All the methods that you would call on
your array, like <code>map</code> or <code>sort</code> or <code>filter</code> are inside the <code>Array.prototype</code> object. The prototype object of
<code>Array.prototype</code> is the <code>Object.prototype</code> object. (this is the prototype chain)</p> <p>When the line <code>letters.valueof()</code> is run, the JavaScript engine looks inside of <code>letters</code> for a method called <code>valueof</code>.
If it is not found then JS looks inside <code>Array.prototype</code> for a method called <code>valueof</code>. If the method is not found
there, then JS looks inside <code>Object.prototype</code> for the method. Since <code>Object.prototype.valueof</code> does exist it can be
run.</p> <p>The <code>prototype</code> of <code>Object.prototype</code> is <code>null</code>. Once <code>null</code> is reached in the search through the prototype chain, then
JS knows that it can safely say that an error has occured.</p> <div title="Prototype Chain Visually" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/01jVgCK-HX4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div> <div title="Intro to prototype" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/dgpaY5wjJ9w" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div> <div title="Understanding the prototype chain" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/GhJTy5-X3kA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div> <div title="Practical uses of prototype with Arrays" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/7C8xKTHd6Mw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div> <p>As this last video explains, a practical use of the <code>prototype</code> chain is to add new functionality to existing objects.
Let's make a completely useless example of a method that we are going to add to all Array objects.</p> <p>We will create a new method called <code>bob</code> and the purpose of this method is to change all the values of every element in
an Array to <code>bob</code>. Got an Array filled with important numbers? Not any more. Now it is filled with <code>bob</code>s.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//adding the method bob to all Arrays</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">bob</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//bob is now a function inside of Array.prototype object</span>
  <span class="token comment">//You can think of Array.prototype as a name space where we are saving our function</span>
  <span class="token comment">//The keyword `this` refers to the Array that is calling this method</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//can't use arrow functions because they have a different `this` value</span>
    <span class="token comment">//looping through all the values in the array and replacing them one at a time</span>
    <span class="token keyword">this</span><span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'bob'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> robert <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Robert'</span><span class="token punctuation">,</span> <span class="token string">'Robert'</span><span class="token punctuation">,</span> <span class="token string">'Robert'</span><span class="token punctuation">,</span> <span class="token string">'Robert'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
robert<span class="token punctuation">.</span><span class="token function">bob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//now the contents of robert are ['bob', 'bob', 'bob', 'bob'];</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>So, that was just a fun example of how to add something into a <code>prototype</code> object.</p> <p>The <strong>most important</strong> reason why we use the <code>prototype</code> is to be able to reuse functions and save memory.</p> <p>Imagine if each time you created an Array, JavaScript had to copy all the methods into that Array.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> a2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> a3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'e'</span><span class="token punctuation">,</span> <span class="token string">'f'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> a4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'g'</span><span class="token punctuation">,</span> <span class="token string">'h'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> a5 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'i'</span><span class="token punctuation">,</span> <span class="token string">'j'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> a6 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'k'</span><span class="token punctuation">,</span> <span class="token string">'l'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//we have created 6 arrays</span>
<span class="token comment">//imagine if we had to keep a copy of every array method inside each of those variables,</span>
<span class="token comment">//along with the length property value and the actual values from the Array.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Array's have access to about 30 methods. With six arrays that would be ~180 functions that need to be held in memory.
Now, add on all the methods from <code>Object.prototype</code>, for each of those arrays.</p> <p>It would be a huge waste of memory.</p> <p>Instead we get this <code>prototype</code> object where we can store and share all those methods. Plus we get the <code>prototype</code> chain
and we can jump up through the list of <code>prototype</code> objects looking through all the shared methods.</p> <h2 id="what-to-do-this-week"><a href="#what-to-do-this-week" class="header-anchor">#</a> What to do this week</h2> <div class="custom-block warning"><p class="custom-block-title">TODO Things to do before next week.</p> <ul><li>Read all the content from <code>Modules 7.1, 7.2, and 9.1</code>.</li> <li>Continue working on the Hybrid Exercises</li> <li>The first four Hybrid Exercises must be submitted before the Reading Week.</li></ul></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/27/2022, 8:14:59 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      
      <a href="/F2022/modules/week7/project-structure/" class="prev">
        7.1: Project Structure
      </a></span> <span class="next"><a href="/F2022/modules/reading/">
        8: Reading Week
      </a>
      
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/F2022/assets/js/app.42156b92.js" defer></script><script src="/F2022/assets/js/2.309c8f6c.js" defer></script><script src="/F2022/assets/js/42.2e322fc2.js" defer></script><script src="/F2022/assets/js/4.8f0492b2.js" defer></script><script src="/F2022/assets/js/6.42129677.js" defer></script>
  </body>
</html>
