<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>5.2 DOM | MAD9014</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Cross-Platform Application Development">
    
    <link rel="preload" href="/F2022/assets/css/0.styles.50f415bc.css" as="style"><link rel="preload" href="/F2022/assets/js/app.42156b92.js" as="script"><link rel="preload" href="/F2022/assets/js/2.309c8f6c.js" as="script"><link rel="preload" href="/F2022/assets/js/40.b0afee99.js" as="script"><link rel="preload" href="/F2022/assets/js/4.8f0492b2.js" as="script"><link rel="preload" href="/F2022/assets/js/6.42129677.js" as="script"><link rel="prefetch" href="/F2022/assets/js/10.6ed74506.js"><link rel="prefetch" href="/F2022/assets/js/11.e4e57652.js"><link rel="prefetch" href="/F2022/assets/js/12.4fd9334c.js"><link rel="prefetch" href="/F2022/assets/js/13.d60171d2.js"><link rel="prefetch" href="/F2022/assets/js/14.ef5f94d3.js"><link rel="prefetch" href="/F2022/assets/js/15.89cba5d1.js"><link rel="prefetch" href="/F2022/assets/js/16.07b0adef.js"><link rel="prefetch" href="/F2022/assets/js/17.274ce64a.js"><link rel="prefetch" href="/F2022/assets/js/18.83156930.js"><link rel="prefetch" href="/F2022/assets/js/19.dd8c0299.js"><link rel="prefetch" href="/F2022/assets/js/20.905940c5.js"><link rel="prefetch" href="/F2022/assets/js/21.0ecc185a.js"><link rel="prefetch" href="/F2022/assets/js/22.8c4f615d.js"><link rel="prefetch" href="/F2022/assets/js/23.cbd124fb.js"><link rel="prefetch" href="/F2022/assets/js/24.f984b5df.js"><link rel="prefetch" href="/F2022/assets/js/25.cae0bd53.js"><link rel="prefetch" href="/F2022/assets/js/26.171c675d.js"><link rel="prefetch" href="/F2022/assets/js/27.b6b19a01.js"><link rel="prefetch" href="/F2022/assets/js/28.762bb28a.js"><link rel="prefetch" href="/F2022/assets/js/29.ba3d8131.js"><link rel="prefetch" href="/F2022/assets/js/3.0ff4921b.js"><link rel="prefetch" href="/F2022/assets/js/30.9f8ef05e.js"><link rel="prefetch" href="/F2022/assets/js/31.b43b0ef2.js"><link rel="prefetch" href="/F2022/assets/js/32.c63a796c.js"><link rel="prefetch" href="/F2022/assets/js/33.b7b22e5a.js"><link rel="prefetch" href="/F2022/assets/js/34.410d0f9e.js"><link rel="prefetch" href="/F2022/assets/js/35.b935e2dc.js"><link rel="prefetch" href="/F2022/assets/js/36.27336e61.js"><link rel="prefetch" href="/F2022/assets/js/37.62aa130b.js"><link rel="prefetch" href="/F2022/assets/js/38.3da4e238.js"><link rel="prefetch" href="/F2022/assets/js/39.ffcb03f3.js"><link rel="prefetch" href="/F2022/assets/js/41.eeb38dd7.js"><link rel="prefetch" href="/F2022/assets/js/42.2e322fc2.js"><link rel="prefetch" href="/F2022/assets/js/43.3d75d1e0.js"><link rel="prefetch" href="/F2022/assets/js/44.d343e4db.js"><link rel="prefetch" href="/F2022/assets/js/45.35ad5dce.js"><link rel="prefetch" href="/F2022/assets/js/46.17dcf00b.js"><link rel="prefetch" href="/F2022/assets/js/5.71716d92.js"><link rel="prefetch" href="/F2022/assets/js/7.ea52c00d.js"><link rel="prefetch" href="/F2022/assets/js/8.78988ea0.js"><link rel="prefetch" href="/F2022/assets/js/9.2c22e4b4.js">
    <link rel="stylesheet" href="/F2022/assets/css/0.styles.50f415bc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/F2022/" class="home-link router-link-active"><img src="/F2022/mad-d-logo-sm.png" alt="MAD9014" class="logo"> <span class="site-name can-hide">MAD9014</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/F2022/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/F2022/assignments/" class="nav-link">
  Deliverables
</a></div><div class="nav-item"><a href="/F2022/conventions/" class="nav-link">
  Conventions
</a></div><div class="nav-item"><a href="/F2022/resources/" class="nav-link">
  Resources
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/F2022/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/F2022/assignments/" class="nav-link">
  Deliverables
</a></div><div class="nav-item"><a href="/F2022/conventions/" class="nav-link">
  Conventions
</a></div><div class="nav-item"><a href="/F2022/resources/" class="nav-link">
  Resources
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Content Modules</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/F2022/modules/week1/intro/" class="sidebar-link">1.1: Introduction</a></li><li><a href="/F2022/modules/week2/functions/" class="sidebar-link">2.1: Functions and Scope</a></li><li><a href="/F2022/modules/week2/flow-strings/" class="sidebar-link">2.2: Truthiness, Control Flow and Strings</a></li><li><a href="/F2022/modules/week3/math-numbers/" class="sidebar-link">3.1: Math and Numbers</a></li><li><a href="/F2022/modules/week3/dates-loops/" class="sidebar-link">3.2: Dates and Loops</a></li><li><a href="/F2022/modules/week4/arrays/" class="sidebar-link">4.1: Arrays</a></li><li><a href="/F2022/modules/week4/objects/" class="sidebar-link">4.2: Objects</a></li><li><a href="/F2022/modules/week5/dom-1/" class="sidebar-link">5.1: Document Object Model</a></li><li><a href="/F2022/modules/week5/dom-2/" aria-current="page" class="active sidebar-link">5.2: Document Object Model</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/F2022/modules/week5/dom-2/#element-properties" class="sidebar-link">Element Properties</a></li><li class="sidebar-sub-header"><a href="/F2022/modules/week5/dom-2/#element-attributes" class="sidebar-link">Element Attributes</a></li><li class="sidebar-sub-header"><a href="/F2022/modules/week5/dom-2/#dataset-properties" class="sidebar-link">Dataset Properties</a></li><li class="sidebar-sub-header"><a href="/F2022/modules/week5/dom-2/#document-fragments" class="sidebar-link">Document Fragments</a></li><li class="sidebar-sub-header"><a href="/F2022/modules/week5/dom-2/#dynamic-html-best-practices" class="sidebar-link">Dynamic HTML Best Practices</a></li><li class="sidebar-sub-header"><a href="/F2022/modules/week5/dom-2/#dom-style-classname-classlist" class="sidebar-link">DOM style, className, classList</a></li><li class="sidebar-sub-header"><a href="/F2022/modules/week5/dom-2/#what-to-do-this-week" class="sidebar-link">What to do this week</a></li></ul></li><li><a href="/F2022/modules/week6/events/" class="sidebar-link">6.1: Handling Events</a></li><li><a href="/F2022/modules/week7/project-structure/" class="sidebar-link">7.1: Project Structure</a></li><li><a href="/F2022/modules/week7/code-structure/" class="sidebar-link">7.2: Code Structure</a></li><li><a href="/F2022/modules/reading/" class="sidebar-link">8: Reading Week</a></li><li><a href="/F2022/modules/week9/promises/" class="sidebar-link">9.1: Promises</a></li><li><a href="/F2022/modules/week9/async/" class="sidebar-link">9.2: Asynchronous Programming</a></li><li><a href="/F2022/modules/week10/ajax/" class="sidebar-link">10.1: AJAX and Fetch</a></li><li><a href="/F2022/modules/week10/fetch-apis/" class="sidebar-link">10.2: Fetch and APIs</a></li><li><a href="/F2022/modules/week11/fetch-data/" class="sidebar-link">11.1: Dynamic Data</a></li><li><a href="/F2022/modules/week11/security/" class="sidebar-link">11.2: Fetch Security</a></li><li><a href="/F2022/modules/week12/observers/" class="sidebar-link">12.1: Observers &amp; Classes</a></li><li><a href="/F2022/modules/week12/destructure/" class="sidebar-link">12.2: Destructuring, Spead, &amp; Enumeration</a></li><li><a href="/F2022/modules/week13/storage/" class="sidebar-link">13.1: HTML5 APIs</a></li><li><a href="/F2022/modules/week13/multi-page/" class="sidebar-link">13.2: Multi-Page, SPA, and JAMStack </a></li><li><a href="/F2022/modules/week14/project-1/" class="sidebar-link">14.1: Forms &amp; Page Transitions</a></li><li><a href="/F2022/modules/week14/project-2/" class="sidebar-link">14.2: Final Project</a></li><li><a href="/F2022/modules/week15/" class="sidebar-link">15.1: Final Project</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><header><div class="section-title gold">
    JavaScript in the Browser
  </div> <h1>5.2 DOM</h1></header> <h2 id="element-properties"><a href="#element-properties" class="header-anchor">#</a> Element Properties</h2> <p>Here is a list of common properties that map to attributes in the HTML as well
as some methods that you could use to manipulate the CSS classes assigned to an
element.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> c <span class="token operator">=</span> element<span class="token punctuation">.</span>className<span class="token punctuation">;</span> <span class="token comment">//get or set the value of the class attribute</span>
<span class="token comment">//one string with all the class names</span>

<span class="token keyword">let</span> list <span class="token operator">=</span> element<span class="token punctuation">.</span>classList<span class="token punctuation">;</span> <span class="token comment">//get the list of css classnames assigned to the element (a DOMTokenList)</span>
element<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//add a new css class to the list</span>
element<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//remove a single css class from the list</span>
element<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>oldClassName<span class="token punctuation">,</span> newClassName<span class="token punctuation">)</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//remove if exists, add if it doesn't exist</span>

<span class="token keyword">let</span> nm <span class="token operator">=</span> element<span class="token punctuation">.</span>tagName<span class="token punctuation">;</span> <span class="token comment">//retrieve the HTML element's tag name eg: P, LI, A, DIV</span>

element<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">'http://www.example.com'</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'http://www.example.com/photo.jpg'</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'bob'</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'mouseover text'</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span>alt <span class="token operator">=</span> <span class="token string">'alternate description for image'</span><span class="token punctuation">;</span> <span class="token comment">//accessibility matters</span>
element<span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token string">'display:none;'</span><span class="token punctuation">;</span> <span class="token comment">// create an inline style. Not recommended.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="element-attributes"><a href="#element-attributes" class="header-anchor">#</a> Element Attributes</h2> <p>There are a few specific methods for working with HTML attributes.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> main <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'main'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//first main element on page</span>
<span class="token keyword">let</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//first image element on page</span>
<span class="token keyword">let</span> mi <span class="token operator">=</span> main<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'main img'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//first image element inside main</span>

mi<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'src'</span><span class="token punctuation">,</span> <span class="token string">'http://www.example.com/photo.jpg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//set the image's src attribute</span>
<span class="token keyword">let</span> title <span class="token operator">=</span> mi<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'title'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//retrieve the value of the title attribute</span>
<span class="token keyword">let</span> hasAlt <span class="token operator">=</span> mi<span class="token punctuation">.</span><span class="token function">hasAttribute</span><span class="token punctuation">(</span><span class="token string">'alt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//boolean indicating if the img has an alt attribute</span>
mi<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">'href'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//remove the href attribute if it exists</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="dataset-properties"><a href="#dataset-properties" class="header-anchor">#</a> Dataset Properties</h2> <p>Having the ability to create your own custom attributes can be a very useful
tool and allow you to store things like product reference ids in the HTML. To
address this need, HTML5 standardized an approach to inventing custom
attributes - called dataset properties.</p> <p>You are allowed to create your own HTML attributes in the HTML or through
JavaScript as long as their name starts with <code>data-</code>. Here is an example of what
the HTML would look like.</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">data-price</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>22.33<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a57dd55d7d8d<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-link</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://abc.io/product<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  Some product information
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>And here is the JavaScript that would create that same HTML.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'data-price'</span><span class="token punctuation">,</span> <span class="token string">'22.33'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'data-id'</span><span class="token punctuation">,</span> <span class="token string">'a57dd55d7d8d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'data-link'</span><span class="token punctuation">,</span> <span class="token string">'http://abc.io/product'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//document.body points to the &lt;body&gt; element</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>It should be noted that ALL dataset property values are strings. If you want to
store a numeric or boolean value in a data-set property, that is fine, but you
will have convert the value to number or boolean after extracting it.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> priceTxt <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'data-price'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//extract the attribute value</span>
<span class="token keyword">let</span> price <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>priceTxt<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//convert from string to number</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="document-fragments"><a href="#document-fragments" class="header-anchor">#</a> Document Fragments</h2> <p>A <code>documentFragment</code> is similar to an HTML element in that it can contain other
HTML Elements and text nodes. The difference is that they only really exist in
memory. They do not appear on the page.</p> <p>We can use them to transport HTML from memory to the webpage.</p> <p>Think of the HTML that you want to add to your page as a bunch of sand. The
<code>documentFragment</code> is a bucket used to hold the HTML and carry it to the page.
When you get to the page, the HTML is dumped out of the bucket on to the page.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> df <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//version one of creating a document fragment</span>
<span class="token keyword">let</span> dfAlt <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//version two. Both work</span>

<span class="token keyword">let</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> h2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'h2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
h2<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'mainTitle'</span><span class="token punctuation">;</span>
h2<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">'The Heading'</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">'Lorem Ipsum'</span><span class="token punctuation">;</span>
df<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>h2<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//now the h2 and paragraph are inside the document fragment</span>

document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>df<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//now the h2 and paragraph are on the page</span>
<span class="token comment">//but the document fragment is still only in memory</span>
<span class="token comment">//the h2 and paragraph were transfer from memory to the body element.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div title="DOM manipulation with DocumentFragments" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/ON7Bo-KY6f4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div> <h2 id="dynamic-html-best-practices"><a href="#dynamic-html-best-practices" class="header-anchor">#</a> Dynamic HTML Best Practices</h2> <p>When you are dynamically creating content for your webpages, you will frequently
be looping through an Array of Objects to get the content. Each of the objects
will have properties with the same property names. You will take the values of
those properties and inject them into the HTML that you are creating.</p> <div class="custom-block danger"><p class="custom-block-title">DANGER</p> <p>Reduce the Number of Inserts Every time you insert new Elements into the webpage
you are forcing the browser to repaint the page. It has to rebuild the page.</p> <p>Imagine if you had a list of 150 song titles that you wanted to add to the page.
Each title will be wrapped in a <code>&lt;li&gt;</code>. Seems simple enough, but if you loop
through your array and call <code>append()</code> 150 times, then you are forcing the
browser to rebuild the page 150 times.</p> <p>Don't do this.</p> <p>Call <code>append</code> once, after creating your content in memory.</p></div> <p>Let's say that this is your data which you will use to create the new HTML.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> info <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'a6f7'</span><span class="token punctuation">,</span> <span class="token literal-property property">txt</span><span class="token operator">:</span> <span class="token string">'Told ya'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'b5f7'</span><span class="token punctuation">,</span> <span class="token literal-property property">txt</span><span class="token operator">:</span> <span class="token string">'Not real data'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'c2f7'</span><span class="token punctuation">,</span> <span class="token literal-property property">txt</span><span class="token operator">:</span> <span class="token string">'But it looks like it'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'a1f4'</span><span class="token punctuation">,</span> <span class="token literal-property property">txt</span><span class="token operator">:</span> <span class="token string">'And works like it'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'a6ee'</span><span class="token punctuation">,</span> <span class="token literal-property property">txt</span><span class="token operator">:</span> <span class="token string">'So we will use it'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>Now, use the Array <code>map</code> method to loop through the Objects and build an HTML
String.</p> <p>When the String is fully built, call one of the methods or properties to inject
the content once.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//version one</span>
<span class="token comment">// use the Element.setHTML() method to append a string that includes HTML</span>
<span class="token keyword">let</span> one <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.one'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> html <span class="token operator">=</span> info
  <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;p data-ref=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>txt<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/p&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> str<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
one<span class="token punctuation">.</span><span class="token function">setHTML</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//version two</span>
<span class="token comment">// use the innerHTML property to append a string that includes HTML</span>
<span class="token keyword">let</span> two <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.two'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> html2 <span class="token operator">=</span> info
  <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;p data-ref=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>txt<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/p&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> str<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
two<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> html2<span class="token punctuation">;</span>

<span class="token comment">//version three</span>
<span class="token comment">//use the DOMParser parseFromString method to convert a string to an HTML document</span>
<span class="token comment">// and then append the document's body property value</span>
<span class="token keyword">let</span> three <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.three'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> html3 <span class="token operator">=</span> info
  <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;p data-ref=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>txt<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/p&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> parser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DOMParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> doc <span class="token operator">=</span> parser<span class="token punctuation">.</span><span class="token function">parseFromString</span><span class="token punctuation">(</span>html3<span class="token punctuation">,</span> <span class="token string">'text/html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
three<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>doc<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//version four</span>
<span class="token comment">// use createElement followed by append to create an array of HTML elements</span>
<span class="token comment">// then use Element.append( ...theArray ) with the spread operator to append the array of Elements</span>
<span class="token keyword">let</span> four <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.four'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> html4 <span class="token operator">=</span> info<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  p<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>txt<span class="token punctuation">)</span><span class="token punctuation">;</span>
  p<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'data-ref'</span><span class="token punctuation">,</span> item<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> p<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
four<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token operator">...</span>html4<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//  four.append( html4[0], html4[1], html4[2], html4[3] );</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><p>The same process can be done using the <code>createElement</code> method and wrapping
everything inside a <code>documentFragment</code>. The <code>documentFragment</code> holds all the new
HTML in memory and is used to transport all the new HTML to the page. Once the
new HTML has been loaded in the page, the <code>documentFragment</code> removes itself and
leaves behind the new HTML.</p> <h2 id="dom-style-classname-classlist"><a href="#dom-style-classname-classlist" class="header-anchor">#</a> DOM style, className, classList</h2> <p>If you want to dynamically style your web page content there are three
properties that belong to every Element Node.</p> <ul><li><code>style</code></li> <li><code>className</code></li> <li><code>classList</code></li></ul> <p>The <code>style</code> property lets you set the value of any single CSS property on any
Element. Inside the <code>style</code> property is a list of every CSS property name.
However, the names are slightly different. Any CSS property name that includes a
hyphen, like <code>background-color</code>, will be written as a single camel-case name -
<code>backgroundColor</code>.</p> <p>Every value is a string and needs quotation marks.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> elem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//get the first paragraph</span>
elem<span class="token punctuation">.</span>style<span class="token punctuation">.</span>border <span class="token operator">=</span> <span class="token string">'1px solid red'</span><span class="token punctuation">;</span>
elem<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'khaki'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>The <code>className</code> property lets you set the contents of the HTML attribute
<code>class=&quot;&quot;</code>. We can't use <code>class</code> as an HTML attribute from within JavaScript,
because <code>class</code> is a reserved keyword.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> elem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//get the first paragraph</span>
elem<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'big red content'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>The <code>classList</code> property is a <code>DOMTokenList</code>, which is similar to an Array of
all the values inside the HTML <code>class=&quot;&quot;</code> attribute. The <code>classList</code> property
has a series of methods that we can call to manage and update the list of
values.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> elem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//get the first paragraph</span>
elem<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'active'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// add the class `active` to the HTML</span>
elem<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'active'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// remove the class `active` to the HTML</span>
elem<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token string">'active'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// add the class `active` to the HTML if it doesn't exist, remove if it does.</span>
elem<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'active'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// check IF the class `active` is assigned to the element</span>
elem<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'active'</span><span class="token punctuation">,</span> <span class="token string">'inactive'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// replace the class `active` with the class 'inactive'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>The <code>classList</code> methods are the most efficient way to update your DOM element
styling and are considered the best practice over <code>style</code> or <code>className</code>.</p> <h2 id="what-to-do-this-week"><a href="#what-to-do-this-week" class="header-anchor">#</a> What to do this week</h2> <div class="custom-block warning"><p class="custom-block-title">TODO Things to do before next week.</p> <ul><li>Read all the content from <code>Modules 5.1, 5.2, and 6.1</code>.</li> <li>Complete <a href="/F2022/assignments/assign.html">Assignment 1</a> by end of week.</li> <li>Continue working on the Hybrid Exercises</li></ul></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/26/2022, 6:28:52 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      
      <a href="/F2022/modules/week5/dom-1/" class="prev">
        5.1: Document Object Model
      </a></span> <span class="next"><a href="/F2022/modules/week6/events/">
        6.1: Handling Events
      </a>
      
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/F2022/assets/js/app.42156b92.js" defer></script><script src="/F2022/assets/js/2.309c8f6c.js" defer></script><script src="/F2022/assets/js/40.b0afee99.js" defer></script><script src="/F2022/assets/js/4.8f0492b2.js" defer></script><script src="/F2022/assets/js/6.42129677.js" defer></script>
  </body>
</html>
